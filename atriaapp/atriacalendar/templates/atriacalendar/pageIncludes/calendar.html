{% load i18n %}
{% load atria_custom_tags %}

{# Set local template variable: #}
{% get_settings_value LANGUAGES "LANGUAGES" %}

{% load static %}

{% verbatim %}
<template id='calendar'>
  <div>
    <div v-if="loading">Loading...</div>
    <div v-else class='cal-body'>
      <div class='cal-top'>
		<div class='cal-top-title'>
		    <a class='arrow' @click='movePreviousYear'>&laquo;</a>
		    <a class='arrow' @click='movePreviousMonth'>&lsaquo;</a>
			<span class='cal-top-month'>
				<h3>{{ header.label_month }}</h3>
			</span>
			<span class='cal-top-year'>
				<h3>{{ header.label_year }}</h3>
			</span>
		    <a class='arrow' @click='moveNextMonth'>&rsaquo;</a>
		    <a class='arrow' @click='moveNextYear'>&raquo;</a>
		</div>
		<div class='cal-top-nav'>
        </div>
      </div>
      <div class='cal-month-cont'>
	      <div>
	      	<ul>
	          <li v-for='weekday in weekdays'> {{ weekday.label_3 }} </li>
	    	</ul>
	      </div>
	      <div class='cal-days-month'>
			  <div class='week' v-for='week in weeks'>
			  	<ul>
				    <li
				      class='day'
				      :class='{ "today": day.isToday, "grey": !day.inMonth, "selected": day.isSelected && !day.dragActive, "dragged": day.isDragged }'
				      v-for='day in week'
				      @click='$emit("selectDay", day)'
				      @mouseenter='$emit("enterDay", day)'
				      @mouseleave='$emit("leaveDay", day)'>
				      <span>{{ day[dayKey] }}</span>
				      <div v-for='occurrence in occurrences'>
				        <div v-if='day.day == occurrence.start_time.substring(8, 10) && day.month == occurrence.start_time.substring(5, 7) && day.year == occurrence.start_time.substring(0, 4)'>
				          <p class='day-event-list'> {{ occurrence.start_time.substring(11) }} {{ occurrence.event.title }}</p>
				        </div>
				      </div>
					</li>
				</ul>
			  </div>
		    </div>
		</div>
	  </div>
    </div>
  </div>
</template>
{% endverbatim %}

<div class='cal-body' id="cal-app">
	<div class='cal-top'>
		<div class='cal-top-title'>
		</div>
		<div class='cal-top-nav'>
			<span class='cal-selector calWeekSelect'>
				<h5>Week </h5>
			</span>
			<span class='cal-selector calMonthSelect cal-highlight'>
				<h5>Month </h5>
			</span>
			<span class='cal-selector calYearSelect'>
				<h5>Year </h5>
			</span>
		</div>
	</div>

	<div class='cal-year-cont'>
	</div>

	<div class='cal-month-content'>
      <div class="calendar-layout">
        <component
          :is='datePicker'
          :day-key='displayKey'
          v-model='dateSelection'
          @drag='dragSelection = $event'>
        </component>
      </div>
	</div>

	<div class='cal-week-cont'>
		<div>
			<ul>
				<li>
					Sun
				</li>
				<li>
					Mon
				</li>
				<li>
					Tues
				</li>
				<li>
					Wed
				</li>
				<li>
					Thurs
				</li>
				<li>
					Fri
				</li>
				<li>
					Sat
				</li>
			</ul>
		</div>
		<div class='week'>
			<ul>
				<li>
					<span>10</span>
				</li>
				<li>
					<span>11</span>
				</li>
				<li class='today'>
					<span>12</span>
				</li>
				<li>
					<span>13</span>
				</li>
				<li>
					<span>14</span>
				</li>
				<li>
					<span>15</span>
				</li>
				<li>
					<span>16</span>
				</li>
			</ul>
		</div>
	</div>
</div>

<div class='calendar-conts-seperator'></div>

<div class='cal-selected-date-cont'>
	<span class='cal-selected-month'>
		<h3>FEBRUARY </h3>
		<div class='cal-selected-day'>13</div>
	</span>
	<span class='cal-selected-year'>
		<h3>2019 </h3>
	</span>
</div>

<div class='calendar-conts-seperator'></div>

<div class='cal-event-body'>
	<div class='calendar-posted-cont'>
		<div class='calendar-posted-top-cont'>
			<div class='calendar-posted-img-info'>
				<div class='calendar-posted-img'>
					<img src="{% static "/atriacalendar/accounticon.png" %}">
				</div>

				<div class='calendar-posted-info'>
					<div>
						<a href=''>
							<h2>Organization Name</h2>
						</a>
					</div>
					<div>
						<h6>Date Posted</h6>
					</div>
				</div>
			</div>
		</div>
		<div class='calendar-posted-event-opps-cont'>
			<div>
				<a href="{% url 'view_event' %}">
					<h4>Event Opportunities:</h4>
				</a>
			</div>
			<div class='calendar-posted-event-opps-list'>
				<ul>
					<li>Cashier</li>
					<li>Cleaning Crew</li>
					<li>Project Manager</li>
				</ul>
			</div>
		</div>
	</div>

	<div class='calendar-post-seperator'></div>
</div>

<!-- development version, includes helpful console warnings -->
<!-- script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script -->
<!-- production version, optimized for size and speed -->
<script src="https://unpkg.com/vue"></script>
<script src="https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"></script>
<script src="{% static "/atriacalendar/vue_calendar.js" %}"></script>

<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
	
<script>
	$(document).ready(function() {

		$(".calWeekSelect").click(function() {
			$(".calWeekSelect").addClass("cal-highlight");
			$(".calMonthSelect").removeClass("cal-highlight");
			$(".calYearSelect").removeClass("cal-highlight");

			$(".cal-week-cont").css("display", "flex");
			$(".cal-month-content").css("display", "none");
		});

		$(".calMonthSelect").click(function() {
			$(".calMonthSelect").addClass("cal-highlight");
			$(".calWeekSelect").removeClass("cal-highlight");
			$(".calYearSelect").removeClass("cal-highlight");

			$(".cal-week-cont").css("display", "none");
			$(".cal-month-content").css("display", "block");
		});

		$(".calYearSelect").click(function() {
			$(".calYearSelect").addClass("cal-highlight");
			$(".calMonthSelect").removeClass("cal-highlight");
			$(".calWeekSelect").removeClass("cal-highlight");

			$(".cal-week-cont").css("display", "none");
			$(".cal-month-content").css("display", "none");
		});

	});

</script>
